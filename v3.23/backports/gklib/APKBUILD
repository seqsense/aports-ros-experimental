# Contributor: Atsushi Watanabe <atsushi.w@ieee.org>
# Maintainer:
pkgname=gklib
pkgver=5.1.1_git20250706
pkgrel=1
pkgdesc="A library of various helper routines and frameworks used by many of the KarypisLab's software"
url="https://github.com/KarypisLab/GKlib"
arch="all"
license="Apache-2.0"
options="!check" # No test is provided.
makedepends="build-base cmake"
subpackages="$pkgname-dev $pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/KarypisLab/GKlib/archive/6e7951358fd896e2abed7887196b6871aac9f2f8.tar.gz"

builddir="$srcdir/GKlib-6e7951358fd896e2abed7887196b6871aac9f2f8"

build() {
	make config prefix=/usr
	make
}

package() {
	make DESTDIR="$pkgdir" install

	install -Dm644 "$builddir"/LICENSE.txt "$pkgdir"/usr/share/licenses/$pkgname/LICENSE.txt
}

sha512sums="
54ba87f2c47e025ada0fe6fe608d9d144df5cd13e97e71892dbba4d50cd96409add309937a540cdf8bd2632cbfbc0e22e080a32d114ba6037008c8676aa8d88d  gklib-5.1.1_git20250706.tar.gz
"
